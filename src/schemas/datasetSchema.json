{
  "title": "Dataset",
  "type": "object",
  "definitions": {
    "doi": {
      "type": "object",
      "properties": {
        "doi": {
          "type": "string",
          "title": "Does a DOI already exist for this dataset?",
          "enum": [
            "Yes",
            "No"
          ]
        }
      },
      "dependencies": {
        "doi": {
          "oneOf": [
            {
              "properties": {
                "doi": {
                  "enum": [
                    "Yes"
                  ]
                },
                "value": {
                  "type": "string",
                  "title": "DOI"
                }
              }
            },
            {
              "properties": {
                "doi": {
                  "enum": [
                    "No"
                  ]
                },
                "authors": {
                  "type": "array",
                  "title": "Authors",
                  "items": {
                    "type": "object",
                    "properties": {
                      "familyName": {
                        "type": "string",
                        "title": "Family name"
                      },
                      "givenName": {
                        "type": "string",
                        "title": "Given name"
                      }
                    }
                  }
                }
              }
            }
          ]
        }
      }
    }
  },
  "properties": {
    "name": {
      "type": "string",
      "title": "Name"
    },
    "description": {
      "type": "string",
      "title": "Description"
    },
    "doi": {
      "title": "",
      "$ref": "#/definitions/doi"
    },
    "homepage": {
      "type": "string",
      "title": "Homepage"
    },
    "versionNumber": {
      "type": "string",
      "title": "Version number"
    },
    "custodian": {
      "type": "array",
      "title": "Custodians",
      "items": {
        "type": "object",
        "properties": {
          "familyName": {
            "type": "string",
            "title": "Family name"
          },
          "givenName": {
            "type": "string",
            "title": "Given name"
          }
        }
      }
    },
    "otherContributions": {
      "type": "string",
      "title": "Other contributions"
    },
    "accessibility": {
      "type": "string",
      "title": "Accessibility",
      "controlledTerm": "productAccessibility"
    },
    "repositoryUrl": {
      "type": "string",
      "title": "Repository URL"
    },
    "type": {
      "type": "string",
      "title": "Type",
      "controlledTerm": "semanticDataType"
    },
    "license": {
      "type": "string",
      "title": "License",
      "controlledTerm": "license"
    },
    "fullDocumentation": {
      "type": "string",
      "title": "Full documentation"
    },
    "keyword": {
      "type": "array",
      "title": "Keyword",
      "items": {
        "type": "string"
      }
    },
    "copyright": {
      "type": "object",
      "title": "Copyright",
      "properties": {
        "holder": {
          "type": "string",
          "title": "Holder"
        },
        "givenName": {
          "type": "number",
          "title": "Year",
          "minimum": 1000,
          "maximum": 10000
        }
      }
    },
    "releasedDate": {
      "type": "string",
      "format": "date",
      "title": "Released date"
    },
    "ethicsAssessment": {
      "type": "string",
      "title": "Ethics assessment",
      "controlledTerm": "ethicsAssessment"
    },
    "experimentalApproach": {
      "type": "string",
      "title": "Experimental approach",
      "controlledTerm": "experimentalApproach"
    },
    "funding": {
      "type": "string",
      "title": "Funding"
    },
    "relatedPublication": {
      "type": "array",
      "title": "Related publications",
      "items": {
        "type": "string"
      }
    },
    "supportChannel": {
      "type": "array",
      "title": "Support channel",
      "items": {
        "type": "string"
      }
    },
    "inputData": {
      "type": "string",
      "title": "Input data"
    },
    "studyTopic": {
      "type": "string",
      "title": "What have you been studying?",
      "enum": [
        "Subject",
        "Tissue sample",
        "Artificial tissue sample"
      ]
    }
  },
  "dependencies": {
    "studyTopic": {
      "oneOf": [
        {
          "properties": {
            "studyTopic": {
              "enum": [
                null
              ]
            }
          }
        },
        {
          "properties": {
            "studyTopic": {
              "enum": [
                "Subject"
              ]
            },
            "numberOfSubjects": {
              "type": "number",
              "title": "How many subjects did you study?",
              "minimum": 1
            },
            "individualSubjects": {
              "type": "boolean",
              "title": "Do you have individual subject information?"
            }
          }
        },
        {
          "properties": {
            "studyTopic": {
              "enum": [
                "Tissue sample",
                "Artificial tissue sample"
              ]
            },
            "numberOfTissueSamples": {
              "type": "number",
              "title": "How many tissue samples did you study?",
              "minimum": 1
            },
            "individualTissueSamples": {
              "type": "boolean",
              "title": "Do you have individual tissue sample information?"
            }
          }
        }
      ]
    }
  }
}