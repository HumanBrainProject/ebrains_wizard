{
    "title": "About your dataset - Step 2 of 5",
    "description": "Please provide some general information about your dataset below.",
    "type": "object",
    "required": ["dataType", "dataCollection", "license"],    
    "definitions": { 
        "embargo":{
            "type": "object",
            "required": ["embargo"],
            "properties": {
                "embargo":{
                    "type": "boolean",
                    "title": "Embargo status",
                    "description": "In case you wish to publish a scientific article before sharing the associated data through EBRAINS, you have the possibility to embargo your data for a certain period of time. Under the embargo period, only some of the metadata (e.g. information about subjects, aims etc.) will be published through EBRAINS, but the original data itself will not be shared.",
                    "oneOf": [{
                            "title": "Yes, embargoed",
                            "const": true
                        },
                        {
                            "title": "No, free",
                            "const": false
                        }
                    ]        
                }
            },
            "dependencies":{
                "embargo":{
                    "oneOf":[
                        {
                            "properties":{
                                "embargo":{
                                    "const":true
                                },
                                "releaseDate": {
                                    "type": "string",
                                    "format": "date",
                                    "title": "Intended release date",
                                    "description": "When do you plan on lifting the embargo? Try to give your best estimation."
                                }                        
                            },
                            "required": ["embargo", "releaseDate"]
                        },
                        {
                            "properties":{
                                "embargo":{
                                    "const":false
                                }
                            }
                        }
                    ]
                }
            }            
        },
        "datasetStatus": {
            "type": "object",
            "required": ["dataCollection"],
            "properties": {
                "dataCollection": {
                    "type": "boolean",
                    "title": "Data collection status",
                    "description": "Are you finished collecting data for the study the dataset is related to?",
                    "oneOf": [{
                            "title": "Yes, we are finished collecting data for this dataset",
                            "const": true
                        },
                        {
                            "title": "No, we are not finished. We may wish to add more data to this dataset later on (e.g. more subjects, updates to analysis scripts etc.)",
                            "const": false
                        }
                    ]
                }
            }, 
            "dependencies":{
                "dataCollection":{
                    "oneOf":[
                        {
                            "properties":{
                                "dataCollection":{
                                    "const": false
                                },
                                "dataSharing": {
                                    "type": "boolean",
                                    "title": "Data sharing status",
                                    "description": "Are you ready to share data for the study the dataset is related to?",
                                    "oneOf": [{
                                        "title": "No, we are not ready to publish a first version of the dataset yet",
                                        "const": false
                                    },
                                    {
                                        "title": "Yes, a first verision might already be published (e.g. we might add more subjects, updates to analysis scripts etc.)",
                                        "const": true
                                    }
                                ]
                                }
                            },
                            "required": ["dataCollection", "dataSharing"]
                        },
                        {
                            "properties":{
                                "dataCollection":{
                                    "const":true
                                }
                            }
                        }
                    ]
                }
            }
        }
    },
    "properties": {
        "dataType": {
            "type": "array",
            "title": "What type of data would you like to share?",
            "items": {
                "type": "string",
                "enum": [
                    "Experimental raw/original data",
                    "Experimental processed or derived data",
                    "Simulated data",
                    "Customized scripts/code"
                ]
            },
            "uniqueItems": true
        },
        "dataCollection": {
            "type": "boolean",
            "title": "Data collection status",
            "description": "Are you finished collecting data for the study the dataset is related to?",
            "oneOf": [{
                    "title": "Yes, we are finished collecting data for this dataset",
                    "const": true
                },
                {
                    "title": "No, we are not finished. We may wish to add more data to this dataset later on (e.g. more subjects, updates to analysis scripts etc.)",
                    "const": false
                }
            ]
        },
        "datasetStatus": {
            "title": "",
            "$ref": "#/definitions/datasetStatus"
        },   
        "embargo": {
            "title": "",
            "$ref": "#/definitions/embargo"
        },
        "license": {
            "type": "string",
            "title": "License",
            "description": "",
            "controlledTerm": "datasetLicense"
        },

        "licenseImage": {
            "type": "string",
            "title": " ",
            "src": "cc_licences-1024x730.png",
            "alt": "Creative Commons licences comparison",
            "width": "850",
            "citation": "<a href='https://foter.com/blog/how-to-attribute-creative-commons-photos/'>Creative Commons Licenses, Foter.com, CC BY-SA 3.0</a>",
            "style": {"textAlign":"right", "marginRight":30, "marginTop":-25}
        }
    }
}